(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Alert"],{"18dd":function(e,t,n){"use strict";n("27eb")},"27eb":function(e,t,n){},"2d42":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c={class:"alert-container"},r={class:"top"},i={class:"token-container"},l={class:"token-info"},a={class:"icon-token-container"},s=["src"],d={class:"token-symbol"},u={class:"token-price"},b={class:"price-label"},m={class:"bottom"},f={class:"title"},p={class:"table-container"},v={class:"table-item header"},O={class:"token-info"},j={class:"icon-token-container"},h=["src"],k={class:"token-symbol"};function g(e,t,g,$,y,N){var V,E,P,w,A=Object(o["resolveComponent"])("van-image"),S=Object(o["resolveComponent"])("van-field"),D=Object(o["resolveComponent"])("van-button"),I=Object(o["resolveComponent"])("van-form"),C=Object(o["resolveComponent"])("van-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("section",c,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",a,[Object(o["createVNode"])(A,{round:"",width:"0.5rem",height:"0.5rem","icon-size":"0.5rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(N.tokenInfo),"error-icon":n("aecc")},null,8,["src","error-icon"]),null!==(V=N.tokenInfo)&&void 0!==V&&V.network||null!==(E=N.tokenInfo)&&void 0!==E&&E.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://ave.s3.ap-east-1.amazonaws.com/chain/".concat((null===(P=N.tokenInfo)||void 0===P?void 0:P.network)||(null===(w=N.tokenInfo)||void 0===w?void 0:w.chain),".png"),alt:"",srcset:""},null,8,s)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",d,Object(o["toDisplayString"])(N.tokenInfo.symbol),1)]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",u," $ "+Object(o["toDisplayString"])(N.tokenPrice),1),Object(o["createElementVNode"])("div",b,Object(o["toDisplayString"])(e.$t("currentPrice")),1)])]),Object(o["createVNode"])(I,{onSubmit:N.addPriceAlert,"input-align":"right","error-message-align":"right"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(S,{modelValue:y.alertPrice,"onUpdate:modelValue":t[0]||(t[0]=function(e){return y.alertPrice=e}),modelModifiers:{number:!0},name:"alertPrice",label:e.$t("setPrice"),type:"number",placeholder:e.$t("plsEnterAlertPrice"),rules:[{required:!0,message:e.$t("plsEnterAlertPrice")},{validator:N.validator,message:e.$t("alertPrice2")}]},null,8,["modelValue","label","placeholder","rules"]),Object(o["createVNode"])(S,{label:e.$t("alertType"),"model-value":N.alertDirection,readonly:""},null,8,["label","model-value"]),Object(o["createVNode"])(S,{label:e.$t("alertFrequency"),"model-value":e.$t("alertOnce"),readonly:""},null,8,["label","model-value"]),Object(o["createVNode"])(D,{class:"submit-btn",block:"",type:"primary","native-type":"submit"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("createAlert")),1)]})),_:1})]})),_:1},8,["onSubmit"])]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",f,Object(o["toDisplayString"])(e.$t("alertSettingRecords")),1),Object(o["createElementVNode"])("ul",p,[Object(o["createElementVNode"])("li",v,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("token")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("type")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("price")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("operate")),1)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(y.priceAlertList,(function(t,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:Object(o["normalizeClass"])(["table-item",{is_notified:t.is_notified}]),key:c},[Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("div",j,[Object(o["createVNode"])(A,{round:"",width:"0.5rem",height:"0.5rem","icon-size":"0.5rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon({chain:(null===t||void 0===t?void 0:t.chain)||"",address:null===t||void 0===t?void 0:t.token}),"error-icon":n("aecc")},null,8,["src","error-icon"]),null!==t&&void 0!==t&&t.network||null!==t&&void 0!==t&&t.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://ave.s3.ap-east-1.amazonaws.com/chain/".concat((null===t||void 0===t?void 0:t.network)||(null===t||void 0===t?void 0:t.chain),".png"),alt:"",srcset:""},null,8,h)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",k,Object(o["toDisplayString"])(t.symbol),1)]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.current_price<=t.warning_price?e.$t("upTo"):e.$t("downTo")),1),Object(o["createElementVNode"])("span",null,"$ "+Object(o["toDisplayString"])(t.warning_price),1),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(C,{class:"icon-delete",onClick:Object(o["withModifiers"])((function(e){return N.removePriceAlert(t)}),["stop"]),size:"0.4rem",name:"delete-o"},null,8,["onClick"])])],2)})),128))])])])}n("a9e3"),n("d3b7");var $=n("365c"),y={name:"Alert",data:function(){return{alertPrice:"",priceAlertList:[]}},computed:{tokenInfo:function(){return this.$store.state.tokenInfo},tokenPrice:function(){var e;return this.$f.formatNumShort(this.$f.formatNum(this.$f.formatNumber(this.$store.state.tokenPrice||(null===(e=this.tokenInfo)||void 0===e?void 0:e.current_price_usd))),10)},alertDirection:function(){return Number(this.tokenPrice)<=Number(this.alertPrice)?this.$t("upTo"):this.$t("downTo")}},activated:function(){this.getUserPriceAlert()},methods:{init:function(){this.getUserPriceAlert()},getUserPriceAlert:function(){var e=this;Object($["Mb"])().then((function(t){e.priceAlertList=t||[]}))},onSubmit:function(e){console.log("submit",e)},validator:function(e){return Math.abs((Number(this.tokenPrice)-Number(e))/Number(this.tokenPrice))>=.02},addPriceAlert:function(){var e,t=this;if(this.$f.verifyLogin()){var n=this.$toast.loading({forbidClick:!0,duration:0});Object($["f"])(this.tokenInfo.address,this.tokenInfo.chain,this.alertPrice,this.$store.state.tokenPrice||(null===(e=this.tokenInfo)||void 0===e?void 0:e.current_price_usd)).then((function(){t.getUserPriceAlert(),t.$notify({type:"success",message:t.$t("success")})})).catch((function(e){console.log(e),t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){n.clear()}))}},removePriceAlert:function(e){var t=this;this.$f.verifyLogin()&&this.$dialog.confirm({message:this.$t("confirmDelete"),confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel")}).then((function(){var n=t.$toast.loading({forbidClick:!0,duration:0});Object($["kc"])(e.id).then((function(){t.getUserPriceAlert(),t.$notify({type:"success",message:t.$t("success")})})).catch((function(e){console.log(e),t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){n.clear()}))})).catch((function(){}))}}},N=(n("18dd"),n("6b0d")),V=n.n(N);const E=V()(y,[["render",g],["__scopeId","data-v-a3eee8ae"]]);t["default"]=E}}]);